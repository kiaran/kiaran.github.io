<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Interactive Rig - Power IK</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Interactive Rig";
    var mkdocs_page_input_path = "unreal\\interactive_rig.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Power IK</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../sdk/changelog/">ChangeLog</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Unreal Plugin</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../getting_started_unreal/">Getting Started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Solver</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../solver_setup/">Solver Setup</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../solver_bones/">Solver Bones</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../bend_directions/">Bend Directions</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../limits/">Limits and Stiffness</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../root_rotation/">Root Rotation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../center_of_gravity/">Center of Gravity</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../solver_performance/">Solver Performance</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Effectors</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../effector_settings/">Effector Settings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../effector_smoothing/">Effector Smoothing</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../grounding/">Grounding</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Interactive Rig</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#power-ik-rig-actor-component">Power IK Rig Actor Component</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-to-setup-a-rig-component">How to Setup a Rig Component</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#interactive-rigs-at-runtime">Interactive Rigs at Runtime</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../debugging/">Debugging</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../packaging/">Packaging</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../common_issues/">Common Issues</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../procedural_anim/">Procedural Animation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">C++ SDK</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../sdk/getting_started_sdk/">Getting Started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../sdk/solver/">Solver Class</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Settings</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../sdk/settings_solver/">Solver Settings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sdk/settings_ground/">Ground Settings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sdk/settings_cog/">Center of Gravity Settings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sdk/settings_smoothing/">Effector Smoothing Settings</a>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Power IK</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Unreal Plugin &raquo;</li>
        
      
    
    <li>Interactive Rig</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="power-ik-interactive-rig">Power IK Interactive Rig</h1>
<p>It is sometimes helpful to have an interactive rig with effectors that you can push and pull with your mouse. This is useful for testing your skeletons and poses with Power IK to see how they will be affected while prototyping a new behavior.</p>
<p><img alt="Rig" src="../img/rig/spider_rig.gif" /></p>
<h2 id="power-ik-rig-actor-component">Power IK Rig Actor Component</h2>
<p>The Power IK plugin comes with an Actor Component that greatly simplifies the process of setting up an interactive rig. </p>
<p>The Power IK Rig Actor Component creates a “gizmo” static mesh (tri-colored arrows showing the transform position and rotation) for each effector. When you “Eject”, while playing in-editor, the gizmos become selectable with the mouse. You can then translate and rotate them to interact with the rig.</p>
<p><img alt="Eject" src="../img/rig/eject.png" /></p>
<h2 id="how-to-setup-a-rig-component">How to Setup a Rig Component</h2>
<ol>
<li>
<p>First we setup a blank actor class with just a Skeletal Mesh and a Power IK Rig component.</p>
</li>
<li>
<p>Create a new Blueprint Class, select <em>Actor</em> as the Parent Class.</p>
</li>
<li>Open the new blueprint, click <em>Add Component</em> and select <em>Skeletal Mesh</em>.
<img alt="Add Comp" src="../img/rig/add_comp.png" /></li>
<li>Click <em>Add Component</em> and select <em>PowerIKRig</em></li>
<li>Select the <em>Power IK Rig</em> component, click the “+” icon to add <em>Rig Effectors</em>.</li>
<li>Type in the names of the bones you want to affect for each effector. For the Dino, we would use “heel_l” and “heel_r” to make an interactive rig to move his feet.
<img alt="Add Comp" src="../img/rig/add_effectors.png" /></li>
</ol>
<p>This concludes the rig component setup. </p>
<p>Now you have to setup an animation blueprint that gets a reference to the Power IK rig component, and uses the rig’s effectors to drive the Power IK solver.</p>
<ol>
<li>Create an <em>Animation Blueprint</em> asset for your Skeletal Mesh.</li>
<li>Add a variable of type <em>Power IK Rig</em>. Name it "Rig".
<img alt="Add Var" src="../img/rig/create_var.png" /></li>
<li>In the event graph, get a reference to the Power IK Rig Component on <em>Begin Play</em> using the supplied function <em>Get Power IK Rig from ABP()</em>.
<img alt="Get Rig" src="../img/rig/get_rig.png" /></li>
<li>Drag the PowerIK Rig component reference into your Anim Graph. Drag a pin off the rig to call the function <em>Get Power IK Rig Effector()</em>.</li>
<li>Set the Bone Name on each effector to the same names supplied to the Power IK Rig Component.</li>
<li>Connect the effectors to a Power IK Solver node. Connect the input of the solver to a Mesh Space Ref Pose, and the output directly to the Output Pose node.
<img alt="Get Rig" src="../img/rig/get_effectors.png" /></li>
</ol>
<p>That concludes the Animation Blueprint setup. Now, we need to add this animation blueprint and skeletal mesh to our actor blueprint.</p>
<ol>
<li>Open the actor blueprint class and select the Skeletal Mesh component.</li>
<li>Set the Anim Class to the Animation Blueprint asset we just created.</li>
<li>Set the Skeletal Mesh to the appropriate Skeletal Mesh asset.</li>
<li>Compile and save the actor blueprint.</li>
<li>Drag the actor into a level.</li>
<li>Hit Play, then hit Eject.</li>
</ol>
<p>You should see gizmos at the effector locations. Select them with the mouse, hit “W” key to enter move mode and drag your rig interactively!</p>
<p><strong>Important!</strong> 
The effector gizmos use a translucent shader. In order to select them you must have <em>Allow Translucent Selection</em> turned on in the editor settings.
<img alt="Translucent Mode Setting" src="../img/rig/trans_mode.png" /></p>
<h2 id="interactive-rigs-at-runtime">Interactive Rigs at Runtime</h2>
<p>There is obviously no "Eject" button in Shipping builds of Unreal. The Power IK Rig component is meant purely for debugging effector and solver settings.</p>
<p>But you could easily replicate the Power IK Rig behavior at runtime if needed, using whatever user input you desire (touch, gesture, VR, etc). The Power IK Rig component drives effector positions in the same way that any procedural system would and in that way it acts as an example of how to create systems that drive Power IK.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../debugging/" class="btn btn-neutral float-right" title="Debugging">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../grounding/" class="btn btn-neutral" title="Grounding"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../grounding/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../debugging/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
